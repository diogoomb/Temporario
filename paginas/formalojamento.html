<!DOCTYPE html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ProjectoWeb</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
        <link rel="stylesheet" href="../alternativa.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link href='https://fonts.googleapis.com/css?family=DM Sans' rel='stylesheet'>
        <link href="../outrosscripts/nouislider.css" rel="stylesheet">
        <script src="../outrosscripts/nouislider.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
        <script src="https://d3js.org/d3.v6.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
        <script src="../geojson/contornoAmp.geojson"></script>
        <script src="../geojson/contornoFreguesias.geojson"></script>       
        <script src="../geojson/FormaOcupacao/FormaConcelhosAbsolutos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaConcelhosRelativos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaFreguesiaAbsolutos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaFreguesiaRelativos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaFreguesia2001Absolutos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaFreguesia2001Relativos.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaConcelhosRelativos1991.geojson"></script>
        <script src="../geojson/FormaOcupacao/FormaConcelhosAbsolutos1991.geojson"></script>
        <script src="../outrosscripts/leaflet.zoomhome.js"></script>
        <script src="../dist/echarts.js"></script> 
    </head>
<body>
        
    <nav class="nav-main">
        <ul>
            <li><a href="#">Home</a></li>

        </ul>
        <div class="flup"><a href="https://sigarra.up.pt/flup/pt/web_page.inicial"><img src="../imagens/Logotipo2.png" alt="flup" width="200" height="55"></a></div>
    </nav>  
    <aside class="nav-sidebar">

            <li><span class="categoria"><strong></strong></span></li>
            <li id="centrar">
                <a href="#" class="sub-btn">População e Família<i class="fas fa-angle-right dropdown rotation"></i></a>
                <div class="sub-menu">
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>População</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="popresidente.html"  class="sub-item">População residente</a>
                        <a href="agregadosfamiliares.html"  class="sub-item">Grupo etário</a>
                        <a href="#"  class="sub-item">Qualificação académica</a>
                        <a href="#"  class="sub-item">População estrangeira</a>
                    </div>
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Famílias</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Famílias existentes</a>
                        <a href="#"  class="sub-item">Dimensão média</a>
                        <a href="#"  class="sub-item">Agregados domésticos</a>
                        <a href="#"  class="sub-item">Famílias unipessoais</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="#" class="sub-btn3" >Parque Habitacional<i class="fas fa-angle-right dropdown rotacaoativa"></i></a>
                <div class="sub-menu" id="mostrarBarra">
                    <a href="#" class="sub-btn1 mercadoHabitacional"><strong>Alojamentos</strong><i class="fas fa-angle-right dropdown rotacaoativa"></i></a>
                    <div class="sub-menu" id="mostrarBarra2">
                        <a href="tipoalojamento.html"  class="sub-item">Tipo de alojamento</a>
                        <a href="formalojamento.html"  class="sub-item active">Forma de ocupação</a>
                        <a href="regimeocupacao.html"  class="sub-item">Regime de ocupação</a>

                    </div>
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Edifícios</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Número de edifícios</a>
                        <a href="#"  class="sub-item">Época de construção</a>
                        <a href="#"  class="sub-item">Idade média</a>
                        <a href="#"  class="sub-item">Estado de conservação</a>
                        <a href="#"  class="sub-item">Dimensão de alojamentos</a>
                    </div>
                </div>
            </li>
            <li><a href="#" class="sub-btn">Condições de Habitabilidade<i class="fas fa-angle-right dropdown rotation"></i></a>
                <div class="sub-menu">
                    <a href="#"  class="sub-item">Sobrelotação</a>
                    <a href="#"  class="sub-item">Água canalizada</a>
                    <a href="#"  class="sub-item">Instalações de banho</a>
                    <a href="#"  class="sub-item">Sistema de aquecimento</a>
                </div>
            </li>
            <li>
                <a href="#" class="sub-btn">Mercado Habitacional<i class="fas fa-angle-right dropdown rotation"></i></a>
                <div class="sub-menu">
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Arrendamento</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="arrendamentopreco.html"  class="sub-item">Preços</a>
                        <a href="#"  class="sub-item">Contratos</a>
                        <a href="#"  class="sub-item">Taxa de esforço</a>
                        <a href="#"  class="sub-item">Encargos mensais de renda</a>
                    </div>
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Venda</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Preço</a>
                        <a href="#"  class="sub-item">Crédito à habitação</a>
                        <a href="#"  class="sub-item">Avaliação bancária</a>
                        <a href="#"  class="sub-item">Aquisição</a>
                        <a href="#"  class="sub-item">Acessibilidade de compra</a>
                        <a href="#"  class="sub-item">Encargos mensais de compra</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="#" class="sub-btn">Morfologia do Edificado<i class="fas fa-angle-right dropdown rotation"></i></a>
                <div class="sub-menu">
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Edifícios</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Tipo de edifício</a>
                        <a href="#"  class="sub-item">Número de pisos</a>
                    </div>
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Alojamentos</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Densidade</a>
                        <a href="#"  class="sub-item">Superfície útil</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="#" class="sub-btn">Construção<i class="fas fa-angle-right dropdown rotation"></i></a>
                <div class="sub-menu">
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Fogos</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Fogos licenciados</a>
                        <a href="#"  class="sub-item">Fogos concluídos</a>
                    </div>
                    <a href="#" class="sub-btn mercadoHabitacional"><strong>Edifícios</strong><i class="fas fa-angle-right dropdown rotation"></i></a>
                    <div class="sub-menu">
                        <a href="#"  class="sub-item">Edifícios licenciados</a>
                        <a href="#"  class="sub-item">Edifiícios concluídos</a>
                    </div>
                </div>
            </li>

    </aside>
    <div id="geral">
        <div id="caixa">
            <div id="space">
                <button class="btn active3" id="opcaoMapa">Mapa</button>
                <button class="btn" id="opcaoTabela">Tabela</button>
                <button class="btn" id="opcaoFonte">Metainformação</button>
            </div>
            <div id ="opcoesTabela">
                    <button id='tabelaDadosAbsolutos' class="btn active1">Dados Absolutos</button>
                    <button id='tabelaPercentagem' class="btn">Dados Relativos</button>
                    <button id='tabelaVariacao' class="btn">Taxa de Variação</button>
            </div>
        </div>
        <div id="inteiro">
            <div id="mapa">
                <div id="tituloMapa">
                    <p>Alojamentos familiares clássicos por forma de ocupação, Nº.  </p>
                </div>
                <div id='mapDIV'></div>
                <div class="ine"></div>
            </div>
            <div id="metaInformacao">
                <p style="text-decoration:underline"><strong> Designação: </strong></p>
                <p>Alojamentos familiares clássicos (N.º) por Localização geográfica e Forma de ocupação</p>
                <p style="text-decoration:underline"><strong>Periodicidade:</strong></p>
                <p>Decenal</p>
                <p style="text-decoration:underline"><strong>Fonte</strong></p>
                <p>INE, Recenseamento da população e habitação - Censos 2021</p>
                <p style="text-decoration:underline"><strong>Primeiro período disponível:</strong></p>
                <p>2011</p>
                <p style="text-decoration:underline"><strong>Último período disponível:</strong></p>
                <p>2021</p>
                <p style="text-decoration:underline"><strong>Conceitos:</strong></p>
                <p style="margin-left:20px"><strong>Alojamento:</strong>  Local distinto e independente que, pelo modo como foi construído, reconstruído, ampliado, transformado ou está a ser utilizado, se destina a habitação com a condição de não estar a ser utilizado totalmente para outros fins no momento de referência: por distinto entende-se que é cercado por paredes de tipo clássico ou de outro tipo, é coberto e permite que uma pessoa ou um grupo de pessoas possa dormir, preparar refeições ou abrigar-se das intempéries separado de outros membros da coletividade; por independente entende-se que os seus ocupantes não têm que atravessar outros alojamentos para entrar ou sair do alojamento onde habitam.</p>
                <p style="margin-left:20px"><strong>Alojamento Familiar:</strong> Alojamento que, normalmente, se destina a alojar apenas uma família e não é totalmente utilizado para outros fins no momento de referência.</p>
                <p style="margin-left:20px"><strong>Período de Referência:</strong> Período de tempo a que a informação se refere e que pode ser um dia específico ou um intervalo de tempo (mês, ano fiscal, ano civil, entre outros).</p>
                <p style="margin-left:20px"><strong>Alojamento Familiar Clássico:</strong> Alojamento familiar constituído por uma divisão ou conjunto de divisões e seus anexos num edifício de carácter permanente ou numa parte estruturalmente distinta do edifício, devendo ter uma entrada independente que dê acesso directo ou através de um jardim ou terreno a uma via ou a uma passagem comum no interior do edifício (escada, corredor ou galeria, entre outros).</p>
                <p style="text-decoration:underline"><strong>Unidade de Medida (símbolo):</strong></p>
                <p>Número (N.º)</p>
                <p style="text-decoration:underline"><strong>Potência de 10 :</strong></p>
                <p>0</p>
                <p style="text-decoration:underline"><strong>Observações:</strong></p>
                <p>Para comparar as taxas de variação nos vários intervalos de tempo, a escala de cores tem por base os seguintes critérios:</p>
                <li>É selecionado o valor máximo e mínimo dos diferentes anos da respetiva forma de ocupação.</li>
                <li>A cor azul corresponde ao valor mínimo e a cor rosa ao valor máximo.</li>
                <li>A cor amarela corresponde ao valor 0, caso exista.</li>
                <p style="text-decoration:underline"> Exemplo:</p>
                    <p style="margin-left: 20px">Variação dos Alojamentos Familiares Clássicos de Residência Habitual à escala concelhia:</p></li>
                    <p style="margin-left: 20px">Valor máximo: 51.45</p>
                    <p style="margin-left: 20px">Valor mínimo: -19.35</p>
                <p style="text-decoration:underline"><strong>Informação Retirada de:</strong></p>
                <p><a href="https://smi.ine.pt/Conceito?clear=True">Instituto Nacional de Estatística</a></p>
            </div>
            <div id='tabela'>
                <div class ="tableFixHead">
                    <table id="populacaoresidente_tabela">
                        <thead>
                            <tr class="fixar1">
                                <th colspan="3"></th>
                                <th colspan="4" class="ano borderleft">Ano</th>
                            </tr>
                            <tr class="fixar2">
                                <th class="borderbottom">Concelho</th>
                                <th class="borderbottom">Freguesia</th>
                                <th class="borderbottom">Forma de Ocupação</th>
                                <th id="1991" class="borderleft borderbottom">1991</th>
                                <th class="borderbottom">2001</th>
                                <th class="borderbottom">2011</th>
                                <th class="borderbottom">2021</th>
                            </tr>
                        </thead>
                        <tbody id="juntarValores">
                        </tbody>
                    </table>
                </div>
            </div>
                    <!-- <div id="espaco"></div> -->
            <div id='painel'>
                    <div id = "myDIV">
                        <button id = 'concelho' class="butaoEscala active2">Concelho</button>
                        <button id = 'freguesias' class="butaoEscala">Freguesia</button>
                    </div>
                    <div id="painelLegenda">Legenda
                        <div id='legendaA'></div>
                        <!-- <div id="grad1"></div> -->
                    </div>
                    <div id="filtrar">
                        <div>
                            <strong>Filtrar dados:</strong>
                            <p>Máximo<input type="number"  id="input-number-max"></p>
                            <p>Minímo<input type="number"  id="input-number-min"></p>
                            <div id="slidersGeral">
                                <div class="sliderAtivo">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="geralEscalas">
                        <div id="escalasConcelho">
                            <button id="absoluto" class="butao active4">Dados Absolutos</button>
                            <button id="percentagem" class="butao">Dados Relativos</button>
                            <button id="taxaVariacao" class="butao">Taxa de Variação</button>
                        </div>
                        <div id="escalasFreguesias">
                            <button id="absolutoFreguesia" class="butao">Dados Absolutos</button>
                            <button id="percentagemFreguesia" class="butao">Dados Relativos</button> 
                            <button id="taxaVariacaoFreguesia" class="butao">Taxa de Variação</button>
                        </div>
                    </div>
                    <div id="variavel">
                        <div class="titulo float">
                            Forma de Ocupação:
                        </div>
                        <div>
                            <select id="opcaoSelect" onchange="myFunction()">
                                <option value="Total">Total</option>
                                    <option value="RH">Residência Habitual</option>
                                    <option value="RS">Residência Secundária</option>
                                    <option value="Vago">Alojamento Vago</option>
                            </select>
                        </div>
                    </div>
                        <div id="temporal">
                            <div class="titulo">
                                <p>Escolha o ano:</p>
                            </div>
                            <div class="margin">
                                <a id="prev" class="previous round">&#8249;</a>
                                <select id="mySelect" onchange="myFunction()">
                                    <option selected value="2021">2021</option>
                                    <option value="2011">2011</option> 
                                    <option value="2001">2001</option>
                                    <option value="1991">1991</option>  
                                </select>
                                <a id="next" class="previous round">&#8250;</a>
                            </div>
                        </div>
                        <div id="ajustar" style="font-size:8pt; bottom:0px; position: absolute;"> 
                            <p> Ajustar o mapa:</p>
                            <input type="number" style ="width: 50px" id="width">
                            <button type="button" id="button">Ajustar</button>
                        </div>
                    </div>
        </div>
    </div>
    <script src="../script/formalojamento.js" defer></script>

    <script>
        $(document).ready(function(){
            $('.sub-btn1').click(function(){
                $(this).next('.sub-menu').slideToggle();
                $(this).find('.dropdown').toggleClass('rotate');
            });
            $('.sub-btn3').click(function(){
                $(this).next('.sub-menu').slideToggle();
                $(this).find('.dropdown').toggleClass('rotate');
            });
            $('.sub-btn').click(function(){
                $(this).next('.sub-menu').slideToggle();
                $(this).find('.dropdown').toggleClass('rotacaonormal');
            });
            const element = document.getElementById("centrar");
            element.scrollIntoView();
        });
        
    </script>
</body>
</html>
